#Interface the inputt of the sensor
import RPi.GPIO as GPIO 
import time
GPIO.setwarning(False)
GPIO.setmode(GPIO.BOARD)
GPIO.setup(7,GPIO.IN)			#Read output from PIR motion sensor
#GPIO.setup(3,GPIO.OUT)			#LED output pin

import ftplib

server='31.170.167.171'
username='u935469477'
password='murtaza1'
ftp_connection   =    ftplib.FTP(server,username,password)

unit=0
count=0

while True:
      sensor=GPIO.input(7)             #print(sensor)

while(count<=1600 and sensor==1):
       count=count+1
       print("%s gg",count)
       if(count==1600)
       unit=unit+1
       count=0

       ff=open("/home/pi/meter.txt",'w')
       ff.write("%s kwh"%(unit))
       ff.close()

       fh=open("home/pi/meter.txt",'rb')
       ftp_connection.subordinary('STORmeter.txt',fh)
       fh.close()
       sensor=GPIO.input(7)

while True:
          i=GPIO.input(7)
          if i==0;			#When output from mtion sensor is LOW
          print("No intruders",i)
          GPIO.output(3,0)              #Turn OFF LED
          time.sleep(1)
          elif i==1:                    #When output from motion sensor is HIGH
          print("Intruder detected",i)
          GPIO.output(3,1)              #Turn ON LED
          time.sleep(1)

            